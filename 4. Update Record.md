# Update Record in the Table
Steps on how to add an update button to edit a record on the table

## 1. Adding a update button
In the HTML `table`, the update button will be located at the action column, beside the delete button

In the Javascript code, locate the place where you populated the table with data by adding columns `td` and rows `tr`.
Just add the update `button` in the `td` where the delete `button` is placed.
```javascript
// Add action column
const tdAction = document.createElement('td');

// Create "Delete" button
const deleteButton = document.createElement('button');
deleteButton.textContent = "Delete";
deleteButton.addEventListener('click', () => deleteRow(data.id)); // Call delete function with the ID

// Create "Update" button
const updateButton = document.createElement('button');
updateButton.textContent = "Update";
updateButton.addEventListener('click', () => updateRow(data.id)); // Call update function with the ID

// Add the delete button to action column
tdAction.appendChild(deleteButton);
tdAction.appendChild(updateButton);
```

## 2. Add a separate button in the `#create-form` to save changes made to the record
Add a hidden field in the `#create-form` to store the record id.
```html
<input type="hidden" id="id">
```

Add an id for each button to easily identify it. The two buttons should have different click event handler.
```html
<div>
    <button id="new-save" type="button" onclick="save(event)">Save</button>
    <button id="edit-save" type="button" onclick="updateSave(event)">Save Changes</button> <!-- Add this extra button -->
</div>
```
Add a CSS to hide the `#edit-save` button to hide it by default.
```css
#edit-save{
    display:none;
}
```

## 3. Handle the update button click event by creating additional function `updateRow()` in the Javascript
Place it anywhere in the Javascript, just not within any other function.
```javascript
// Function to handle update
function updateRow(id){
    fetch(`/update?id=${id}`)  //Fetch the record from the server
    .then(response => response.json())
    .then(person => {
        // Hide and show buttons
        document.getElementById("edit-save").style.display="inline-block"; //Show #edit-save button
        document.getElementById("new-save").style.display="none"; //Hide #new-save button. This is for saving new entry only
        
        // Populate form
        document.getElementById("id").value = person.id;
        document.getElementById("fname").value = person.first_name;
        document.getElementById("lname").value = person.last_name;
        document.getElementById("gender").value = person.gender;
        document.getElementById("email").value = person.email;

        //Change form tile
        document.getElementById("form-title").textContent = "Update Record | " +person.last_name;
        
        //Scroll into form
        document.getElementById("create-form").scrollIntoView({ behavior: 'smooth', block: 'start' });
        
    })
    .catch(error =>{
        console.error('Error fetching data:', error);
    });
}
```

## 4. Handle the update action in the server side
## FOR JAVA
### A. Create another context `/` or any name similar to the `fetch()` address you specified